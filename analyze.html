<html>
<head>
<link rel="stylesheet" href="style.css">

<!-- <script src="d3.v4.min.js"></script> -->
<script src="https://d3js.org/d3.v4.min.js"></script>

</head>
<body>
  <header>
      <div class="container">
        <img src = "LOGO.JPG" alt = "logo" class = "logo" height = 50 width = 160>

        <nav>
          <ul>
            <li><a href="final.html">Home</a></li>
            <li><a href="analyze.html">Analyze Your Time</a></li>
            <li><a href="tips.html">Tips</a></li>
            <li><a href="about.html">About Focal Focus</a></li>

          </ul>
        </nav>
      </div>
    </header>
    <p id="pie-location"> </p>
    <p id="test"></p>
    <!--
    <fieldset>
      <legend>Input</legend>

      <form id="form1">
        <div>
          Work: <input type="number" name="WorkInput" value="">
          <span class="warning">*(Allows only numbers.)</span>
        </div>
          <input type="submit" form="form1" value="Submit" onclick="myFunction(WorkInput)">
      </form>
      <script>
        function myFunction(WorkInput)
        {
          var Alexis = document.getElementById("").value ;
          alert(Alexis);
        }
      </script>

<form id="form" onsubmit="return false;">
<input style="position:absolute; top:80%; left:5%; width:40%;" type="text" id="userInput" />


<input style="position:absolute; top:80%; left:5%; width:40%;" type="text" id="userInput2" />


<input style="position:absolute; top:80%; left:5%; width:40%;" type="text" id="userInput3" />


<input style="position:absolute; top:80%; left:5%; width:40%;" type="text" id="userInput4" />
<input style="position:absolute; top:50%; left:5%; width:40%;" type="submit" onclick="othername();" />
</form>

-->

<form id="form" onsubmit="return false;">
First name: <input type="text" name="FirstName" value="" id="userInput"><br>

Middle name: <input type="text" name="MiddleName" value="" id="userInput2"><br>

Last name: <input type="text" name="LastName" value="" id="userInput3"><br>

Yeahum: <input type="text" name="LastName" value="" id="userInput4"><br>
<input type="submit" value="Submit" onclick="othername()">
</form>



<script>
/*
  Stores user input into list
*/
    var data_pie_list=[];
  function othername()
  {
    var input = document.getElementById("userInput").value;
    var input2 = document.getElementById("userInput2").value;
    var input3 = document.getElementById("userInput3").value;
    var input4 = document.getElementById("userInput4").value;

    data_pie_list.push(input);
    data_pie_list.push(input2);
    data_pie_list.push(input3);
    data_pie_list.push(input4);

    document.getElementById("pie-location").innerHTML = "inputs inside function: " + data_pie_list;

  }

 //document.getElementById("pie-location").innerHTML = othername();
</script>

<div id="chart"></div>

<script>
/*
  pie chart gets graphed
*/
(function(d3) {
    // 'use strict';
    //existing array of values for pie chart
    var dataset = [
      { label: 'Work', count: 10},
      { label: 'Classes', count: 12},
      { label: 'Homework', count: 13},
      { label: 'Sleep', count: 11}
    ];

    //accesses each value of the empty list
    //also replaces empty list with dataset of user's input
    var finaldata = data_pie_list;
    document.getElementById("test").innerHTML = "inputs outside function: " + finaldata;
    //dataset[0]["count"]=32;
    // document.getElementById("test").innerHTML = "finaldata: " + finaldata[0];
    // dataset[1]["count"]=finaldata[1];
    // dataset[2]["count"]=finaldata[2];
    // dataset[3]["count"]=finaldata[3];

    var txt = "";
    var idx;
  //   for (idx=0; idx<dataset.length; idx++) {
  //     var dict = dataset[idx]
  //     dict["count"]=finaldata[idx];
  //
  //   	txt = txt+Object.values(dataset[elementIndex]);
  // }
  // dataset[0]["count"] = 52;
    // document.getElementById("test").innerHTML = "dataset: " + dataset[0]["count"];



    var width = 360;
    var height = 360;
    var radius = Math.min(width, height) / 2;
    var donutWidth = 75;
    var legendRectSize = 18;                                  // NEW
    var legendSpacing = 4;                                    // NEW
    var color = d3.scaleOrdinal(d3.schemeCategory20b);
    var svg = d3.select('#chart')
      .append('svg')
      .attr('width', width)
      .attr('height', height)
      .append('g')
      .attr('transform', 'translate(' + (width / 2) +
        ',' + (height / 2) + ')');
    var arc = d3.arc()
      .innerRadius(radius - donutWidth)
      .outerRadius(radius);
    var pie = d3.pie()
      .value(function(d) { return d.count; })
      .sort(null);

    d3.csv("data.csv", function(error, dataset) {
      dataset.forEach(function(d) {
        d.count = +d.count;
      });

    var path = svg.selectAll('path')
      .data(pie(dataset))
      .enter()
      .append('path')
      .attr('d', arc)
      .attr('fill', function(d, i) {
        return color(d.data.label);
      });
    var legend = svg.selectAll('.legend')                     // NEW
      .data(color.domain())                                   // NEW
      .enter()                                                // NEW
      .append('g')                                            // NEW
      .attr('class', 'legend')                                // NEW
      .attr('transform', function(d, i) {                     // NEW
        var height = legendRectSize + legendSpacing;          // NEW
        var offset =  height * color.domain().length / 2;     // NEW
        var horz = -2 * legendRectSize;                       // NEW
        var vert = i * height - offset;                       // NEW
        return 'translate(' + horz + ',' + vert + ')';        // NEW
      });                                                     // NEW
    legend.append('rect')                                     // NEW
      .attr('width', legendRectSize)                          // NEW
      .attr('height', legendRectSize)                         // NEW
      .style('fill', color)                                   // NEW
      .style('stroke', color);                                // NEW
    legend.append('text')                                     // NEW
      .attr('x', legendRectSize + legendSpacing)              // NEW
      .attr('y', legendRectSize - legendSpacing)              // NEW
      .text(function(d) { return d; });                       // NEW
  });
})(window.d3);

</script>


</body>
</html>
