<html>
  <head>
    <link rel="stylesheet" href="style.css">
    <!-- <script src="d3.v4.min.js"></script> -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
  </head>
  <body>
  <!--
    <header>
        <div class="container">
          <img src = "LOGO.JPG" alt = "logo" class = "logo">
          <nav>
            <ul>
              <li><a href="home.html">Home</a></li>
              <li><a href="analyze.html">Analyze Your Time</a></li>
              <li><a href="tips.html">Tips</a></li>
              <li><a href="todo.html">Schedule Your Yime</a></li>
            </ul>
          </nav>
        </div>
    </header>
-->

<title>W3.CSS Template</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body,h1,h2,h3,h4,h5,h6 {font-family: "Lato", sans-serif}
.w3-bar,h1,button {font-family: "Montserrat", sans-serif}
.fa-clock-o,.fa-bookmark{font-size:200px}
</style>
<body>

<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-black w3-card w3-left-align w3-large">
    <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-red" href="javascript:void(0);" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>

    <a href="home.html" class="w3-bar-item w3-button w3-padding-large">Home</a>
    <a href="analyze.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Analyze Your Time</a>
    <a href="tips.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Tips</a>
    <a href="todo.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Schedule Your Time</a>
  </div>

  <!-- Navbar on small screens -->
  <div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium w3-large">
    <a href="home.html" class="w3-bar-item w3-button w3-padding-large">Home</a>
    <a href="analyze.html" class="w3-bar-item w3-button w3-padding-large">Analyze Your Time</a>
    <a href="tips.html" class="w3-bar-item w3-button w3-padding-large">Tips</a>
    <a href="todo.html" class="w3-bar-item w3-button w3-padding-large">Schedule Your Time</a>
  </div>
</div>

<!-- Header -->
<!--
<header class="w3-container w3-red w3-center" style="padding:128px 16px">
  <h1 class="w3-margin w3-jumbo">START PAGE</h1>
  <p class="w3-xlarge">Template by w3.css</p>
  <button class="w3-button w3-black w3-padding-large w3-large w3-margin-top">Get Started</button>
</header>
-->

<!-- First Grid -->
<div class="w3-row-padding w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-twothird">
      <h1>Analyze Your Time</h1>
      <h5 class="w3-padding-32">Visualize how much time you spend on each part of your day by inputting
        the amount of hours you spend for each task below.</h5>
      <center>
            <p id="pie-location"> </p>
            <p id="test"></p>

            <form id="form" onsubmit="return false;">
            Work: <input type="text" name="FirstName" value="" id="userInput"><br>
            Classes: <input type="text" name="MiddleName" value="" id="userInput2"><br>
            Homework: <input type="text" name="LastName" value="" id="userInput3"><br>
            Sleep: <input type="text" name="LastName" value="" id="userInput4"><br>
            <br>
            <input type="submit" value="Analyze Your Time!" onclick="othername()">
            </form>
            <div id="chart"></div>
      </center>
    </div>

    <div class="w3-third w3-center">
      <br>
      <br>
      <br>
      <i class="fa fa-clock-o w3-padding-64 w3-text-black"></i>
      <p id="pie-location"></p>
    </div>
  </div>
</div>

<!-- Second Grid -->
<div class="w3-row-padding w3-light-grey w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-third w3-center">
      <i class="fa fa-bookmark w3-padding-64 w3-text-black w3-margin-right"></i>
    </div>

    <div class="w3-twothird">
      <h1>The Importance of Keeping Track of Time</h1>

      <p class="w3-text-grey">Knowing where you allot your time each day is an important beginning step to learning how to
      learning how to manage it and become more productive. By forcing yourself to think about this, you may realize that you
      don't spend enough time doing something important, such as homework or sleep.</p>
    </div>
  </div>
</div>

<div class="w3-container w3-black w3-center w3-opacity w3-padding-64">
    <h1 class="w3-margin w3-xlarge">"Look at life through the windshield, not the rear view mirror." -Byrd Baggett</h1>
</div>


<script>
// Used to toggle the menu on small screens when clicking on the menu button
function myFunction() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }
}
</script>


    <script>
    /*
      Stores user input into list
    */

      function othername() {
        // clears the data list
        var data_pie_list=[];
        // gets all the values the user inputs
        var input = document.getElementById("userInput").value;
        var input2 = document.getElementById("userInput2").value;
        var input3 = document.getElementById("userInput3").value;
        var input4 = document.getElementById("userInput4").value;
        // adds the inputted values to the data list
        data_pie_list.push(input);
        data_pie_list.push(input2);
        data_pie_list.push(input3);
        data_pie_list.push(input4);
        document.getElementById("chart").innerHTML=""; // clear previous chart
    /*
      pie chart gets graphed
    */
    (function(d3) {
        // 'use strict';
        //existing array of values for pie chart
        var dataset = [
          { label: 'Work', count: 10},
          { label: 'Classes', count: 12},
          { label: 'Homework', count: 13},
          { label: 'Sleep', count: 11}
        ];
        // accesses each value of the data_pie_list and puts it in dataset
        for (idx=0; idx<dataset.length; idx++) {
          dataset[idx]["count"]=data_pie_list[idx]; // assigns each data_pie_list to the value of the key "count" for each label
      }

        var width = 360;
        var height = 360;
        var radius = Math.min(width, height) / 2;
        var donutWidth = 75;
        var legendRectSize = 18;                                  // NEW
        var legendSpacing = 4;                                    // NEW
        var color = d3.scaleOrdinal(d3.schemeCategory20b);
        // shows the pie chart
        var svg = d3.select('#chart')
          .append('svg')
          .attr('width', width)
          .attr('height', height)
          .append('g')
          .attr('transform', 'translate(' + (width / 2) +
            ',' + (height / 2) + ')');
        var arc = d3.arc()
          .innerRadius(radius - donutWidth)
          .outerRadius(radius);
        var pie = d3.pie()
          .value(function(d) { return d.count; })
          .sort(null);
        var path = svg.selectAll('path')
          .data(pie(dataset))
          .enter()
          .append('path')
          .attr('d', arc)
          .attr('fill', function(d, i) {
            return color(d.data.label);
          });
        var legend = svg.selectAll('.legend')                     // NEW
          .data(color.domain())                                   // NEW
          .enter()                                                // NEW
          .append('g')                                            // NEW
          .attr('class', 'legend')                                // NEW
          .attr('transform', function(d, i) {                     // NEW
            var height = legendRectSize + legendSpacing;          // NEW
            var offset =  height * color.domain().length / 2;     // NEW
            var horz = -2 * legendRectSize;                       // NEW
            var vert = i * height - offset;                       // NEW
            return 'translate(' + horz + ',' + vert + ')';        // NEW
          });                                                     // NEW
        legend.append('rect')                                     // NEW
          .attr('width', legendRectSize)                          // NEW
          .attr('height', legendRectSize)                         // NEW
          .style('fill', color)                                   // NEW
          .style('stroke', color);                                // NEW
        legend.append('text')                                     // NEW
          .attr('x', legendRectSize + legendSpacing)              // NEW
          .attr('y', legendRectSize - legendSpacing)              // NEW
          .text(function(d) { return d; });                       // NEW
    })(window.d3);
  }
    </script>

  </body>
</html>
